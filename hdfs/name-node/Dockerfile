ARG INPUT_ADOOP_VERSION



FROM adoop/hdfs:${INPUT_ADOOP_VERSION} AS hdfs-name-node

EXPOSE 9000

EXPOSE 50070


ENV HDFS_SITE__DFS_NAMENODE_NAME_DIR /data/dfs/name

ENV HDFS_SITE__DFS_REPLICATION 1


RUN mkdir -p ${HDFS_SITE__DFS_NAMENODE_NAME_DIR} && \
    chmod -R 777 ${HDFS_SITE__DFS_NAMENODE_NAME_DIR}


VOLUME ${HDFS_SITE__DFS_NAMENODE_NAME_DIR}


CMD [ "hdfs", "namenode" ]

